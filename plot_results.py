import matplotlib.pyplot as plt
from matplotlib import font_manager
fontP = font_manager.FontProperties()
fontP.set_family('SimHei')
fontP.set_size(14)


days=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50]

# better_prob=0.1
# better_perc=[0.0013180187164746593, 0.0018796192849945769, 0.0044531918758619424, 0.00783718790078866, 0.01211287245973997, 0.017307588469433963, 0.023378591601984567, 0.030202609027084736, 0.03757655124695419, 0.04523344806162983, 0.0528723177306296, 0.06019548020437791, 0.06694457990402201, 0.07292760323911457, 0.07803261118185582, 0.0822279694803633, 0.08555170155217807, 0.08809375919099577, 0.08997522644060621, 0.09132823929600256, 0.09227963596587155, 0.09294004014156892, 0.0933985920878649, 0.09372235524057006, 0.09395881489488993, 0.09413985041437599, 0.094285916659349, 0.09440967286103258, 0.09451875484309112, 0.0946176998863554, 0.094709189674419, 0.09479481387345517, 0.09487552776958033, 0.09495192593619942, 0.09502440662263115, 0.09509326883140483, 0.09515876576911904, 0.0952211298146959, 0.09528058029449755, 0.09533732281659119, 0.0953915463090665, 0.09544342119410112, 0.09549309980022909, 0.09554071858782222, 0.0955864011337621, 0.09563026089084095, 0.09567240316601863, 0.09571292623257636, 0.09575192180857767, 0.09578947524136153]   
# worse_perc=[0.0013180187164746593, 0.022396814206273943, 0.06101405617593054, 0.12067417690841006, 0.20325238061773265, 0.30564718125595486, 0.41934333438246857, 0.5322952068605364, 0.6325568465749581, 0.7119346686102004, 0.76787852471205, 0.8029523573765415, 0.8226263758248707, 0.832795575879942, 0.8381151144548065, 0.8414596976687022, 0.8441919765834784, 0.8467375557230732, 0.8491036735641408, 0.8512027104011218, 0.8529931731654019, 0.8545047809701236, 0.8558110226661422, 0.8569914044229602, 0.8581049186663502, 0.8591808542795949, 0.8602235498464161, 0.8612237845508833, 0.862170001130921, 0.863055409918637, 0.8638801632989379, 0.8646499116912155, 0.8653728038180186, 0.8660566865579571, 0.8667074522119148, 0.8673286711573951, 0.8679221248960409, 0.8684886863735553, 0.8690290951154682, 0.8695443974221463, 0.8700360362898519, 0.8705057079865318, 0.8709551382432217, 0.8713858971167665, 0.871799308468584, 0.8721964523640074, 0.872578225148962, 0.872945414873779, 0.8732987609470632, 0.8736389849337118]
# better_prob=0.9
# better_perc=[0.011862168448271935, 0.016915594233205447, 0.04009977467475439, 0.07064036248595904, 0.10930968303193117, 0.15637367088445717, 0.21143655323655164, 0.27336087706871587, 0.34029508196324454, 0.409822187902519, 0.479215038192685, 0.5457544585660261, 0.6070483157524177, 0.6612890417983421, 0.7074041057022236, 0.7450814272563805, 0.7746807946876224, 0.7970648842833801, 0.8133944612485386, 0.8249307743054768, 0.832876837505557, 0.8382733381784758, 0.8419496514095755, 0.8445196299399569, 0.8464068498421717, 0.8478841055756893, 0.8491152714421408, 0.8501921255081976, 0.851162832409864, 0.852051724511269, 0.8528716745770922, 0.8536309688823853, 0.8543365473071945, 0.8549951181504524, 0.8556132148811345, 0.8561968663734005, 0.8567512493412305, 0.8572804849856182, 0.8577876152804932, 0.8582747271585328, 0.8587431662002327, 0.8591937800396834, 0.8596271440256148, 0.8600437393782863, 0.8604440715684256, 0.8608287306417833, 0.8611984043303278, 0.8615538590280315, 0.8618959039485553, 0.8622253513215472]
# worse_perc=[0.011862168448271935, 0.002488303360347473, 0.006784234531399418, 0.013434246250135734, 0.02265915609750758, 0.03412221645263837, 0.04687649703587602, 0.05957594460521111, 0.07088218278333189, 0.07987020616667906, 0.0862358283775882, 0.09023703250631428, 0.09245515464390792, 0.09353011722333181, 0.09398437078923345, 0.09416338983385159, 0.09425689821765665, 0.09434996110928219, 0.09446996255305093, 0.09461770161019431, 0.09478416450902549, 0.09495835020912897, 0.09513055254268053, 0.09529357474834288, 0.09544299796265633, 0.09557696383137944, 0.09569568215795884, 0.0958008003698933, 0.09589474974182682, 0.09598016476021391, 0.09605944327758005, 0.09613447849199229, 0.09620655751562575, 0.09627639351804405, 0.09634424379804302, 0.09641006484217049, 0.09647366417775073, 0.09653482275647822, 0.09659337608980148, 0.096649254166224, 0.09670248780948859, 0.09675319254906999, 0.09680154115277621, 0.09684773395394942, 0.09689197317064333, 0.09693444445361096, 0.09697530645798753, 0.09701468754536033, 0.09705268779928586, 0.09708938425436128]
# plt.plot(days, better_perc, color='grey', marker='o', markersize=3, linestyle='-', label='better%') 
# plt.plot(days, worse_perc, color='red', marker='o', markersize=3, linestyle='-', label='worse%')    
# plt.xlabel('Days')
# plt.title('Better_prob= {:.1f}'.format(better_prob))

days=50
worse_rate_list =  [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9]
better_rate_list = [1-x for x in worse_rate_list]
better_perc =  [0.8622253513215472, 0.766426031677053, 0.6706226433148893, 0.5748161587986873, 0.4790077949199411, 0.383199029161918, 0.2873916184062768, 0.19158762763326304, 0.09578947524136153]
worse_perc =  [0.09708938425436128, 0.19417895434617627, 0.29126693322506436, 0.38835146651022817, 0.48543050465226417, 0.5825017103901623, 0.6795623798617277, 0.7766093649883133, 0.8736389849337118]
plt.plot(better_rate_list, better_perc, color='grey', marker='o', markersize=3, linestyle='-', label='出院') 
plt.plot(better_rate_list, worse_perc, color='red', marker='o', markersize=3, linestyle='-', label='死亡')     
plt.xlabel('治愈率', fontproperties=fontP)
plt.ylabel('比例', fontproperties=fontP) 
plt.legend(loc='upper', prop=fontP)
fontP.set_size(16)
plt.title('50天后医院出院和死亡人数占总收治重症的比例', fontproperties=fontP)
plt.show()



# batch_population_list_1=[100, 1.2959341704055136, 2.459104008823764, 4.230970839324482, 6.581990148619134, 9.255434465962466, 11.787213548432021, 13.660389597574403, 14.534302110122741, 14.411863580598073, 13.630768642842941, 12.681863767502403, 11.974661755194434, 11.689637116352452, 11.776284273254326, 12.055541640979369, 12.341159795585268, 12.516742502421177, 12.5530362747938, 12.484027783808719, 12.369150842915998, 12.261609364248521, 12.19155937800962, 12.164051176143191, 12.166724833324865, 12.180867018896796, 12.190631005915993, 12.187764143466197, 12.171780387675614, 12.147210487872037, 12.120038958595192, 12.094950651230985, 12.074098421251836, 12.057270499453749, 12.04286475087477, 12.02900476375905, 12.014333442252642, 11.998314849454491, 11.981119950370836, 11.963295964823594, 11.945422763551548, 11.927887422124087, 11.910815000637765, 11.894121817925944, 11.877625255652676, 11.861148332080335, 11.844582595045447, 11.827902007229486, 11.81114128396391, 11.7943601099836]
# batch_population_list_2=[100, 1.2983880088576407, 2.3974551919189375, 4.054854404654243, 6.243346701668398, 8.730978106851618, 11.098396895643253, 12.876655937083104, 13.752283808729047, 13.718205420892357, 13.068393896381727, 12.238300487662421, 11.596926453149235, 11.31430186993072, 11.357098784953815, 11.57646528884954, 11.813272982816876, 11.965431896460181, 12.00385799766386, 11.953185692407727, 11.860603557553727, 11.769639477868155, 11.706049465623513, 11.675648511893334, 11.670034307984055, 11.675134790485497, 11.678484564649104, 11.673116765398115, 11.657958407130478, 11.635927534087875, 11.611314267907371, 11.587681710098225, 11.566851959557132, 11.548923612954786, 11.532910390112558, 11.517524662486286, 11.501763824731528, 11.485163456053147, 11.467755710975219, 11.449863427534618, 11.431869053789578, 11.41405223992182, 11.396528301600938, 11.379270504131465, 11.362175301000818, 11.345130008740135, 11.328057349664741, 11.310929702855644, 11.293759721908927, 11.27657997186274]
# batch_population_list_3=[100, 1.3008418473097678, 2.3358064954405737, 3.878731917376814, 5.904762055052629, 8.206922190174895, 10.410977780846943, 12.096503223098665, 12.977772685812972, 13.038078091693222, 12.527567806492819, 11.825575309756701, 11.259296281862337, 10.986746153802272, 10.990395084584742, 11.15088010161071, 11.336407525294353, 11.460297901071863, 11.495271352064178, 11.45823676808584, 11.385251637813194, 11.3104884629096, 11.25485829919658, 11.224018654607432, 11.212527913900939, 11.2102316306827, 11.207771663827774, 11.199619522523166, 11.184527104860877, 11.164255509820144, 11.141727713818609, 11.119505432002754, 11.099011674723716, 11.080479148942338, 11.06334910644456, 11.04679387658045, 11.030124395939302, 11.012982505582027, 10.99533602323154, 10.977358304303745, 10.95928247372153, 10.941293111495177, 10.92347927574162, 10.90584098315652, 10.888325185532869, 10.87086633729712, 10.853415066194003, 10.835949418470909, 10.818471670647426, 10.800997694918973]
# batch_population_list_4=[100, 1.3032956857618954, 2.274157919388674, 3.7026033775010614, 5.566236208103428, 7.6832667308271105, 9.724956155352613, 11.31993056709531, 12.210763812019012, 12.371463355609837, 12.008237396593232, 11.443558693343162, 10.961494338522522, 10.70644038172436, 10.675252853713983, 10.777317077596706, 10.908392784126756, 10.99835402763452, 11.02343334571822, 10.994539665863154, 10.937817901037304, 10.87849046645595, 10.832220102436814, 10.803569649428095, 10.788991359442193, 10.78141724213509, 10.774205141116887, 10.763320490922915, 10.747697433666865, 10.728392479377202, 10.707329436341126, 10.686255265743803, 10.666194332112127, 10.647388797733443, 10.629542794355594, 10.612155420141736, 10.59478625257588, 10.577187069170687, 10.559309204774884, 10.541236396164873, 10.523098564190347, 10.505005438101872, 10.487015448188721, 10.469136190945378, 10.451343008101155, 10.433601381586893, 10.415883486420949, 10.398175399594326, 10.380476290727184, 10.362793244960017]
# batch_population_list_5=[100, 1.305749524214023, 2.2125094637632365, 3.526468785035848, 5.227769160152389, 7.160011743702977, 9.040331970472826, 10.546937080510297, 11.45125225792885, 11.718342977115249, 11.510349707069222, 11.092121184883064, 10.70324405137554, 10.472856001424532, 10.410754554626863, 10.454313845739016, 10.52707241052983, 10.576641999450402, 10.584552508348658, 10.557540721933016, 10.513165001064207, 10.468189547971324, 10.43266671226808, 10.409109157601566, 10.394719627498763, 10.38456841794262, 10.374209870080724, 10.361051298355278, 10.344504145071966, 10.325366086228449, 10.304972930437671, 10.284517653189127, 10.264706907159951, 10.245732319991795, 10.22743153141921, 10.209500648368188, 10.191661702583836, 10.173746584626642, 10.155705125314862, 10.137568233142922, 10.1193991334344, 10.10125529851517, 10.083169829357338, 10.065150221434902, 10.047187143149035, 10.029265532894941, 10.011372903392868, 9.993503025265552, 9.975655657417054, 9.95783414652129]
# batch_population_list_6=[100, 1.3082033626661502, 2.150861128564262, 3.3503281399900375, 4.88936091053111, 6.637157243697128, 8.35710517752319, 9.777521874743925, 10.699233094061345, 11.078698722546495, 11.03385179527699, 10.771133417738401, 10.484269179668022, 10.285465494195936, 10.195985428342418, 10.180414657868138, 10.190304320602316, 10.192231679327147, 10.174888705178086, 10.14277351588409, 10.10629448063684, 10.074337771363393, 10.051023981290541, 10.035838070266552, 10.025506257576723, 10.016161977669276, 10.00489691698522, 9.99038981042256, 9.97275433449509, 9.952965689845595, 9.932229345292896, 9.911528308132631, 9.891426191985083, 9.872083429629999, 9.853390081065069, 9.83512163404962, 9.817057977254162, 9.799044776355391, 9.781004881999804, 9.7629202130735, 9.744804547769995, 9.726680756966216, 9.708567810392918, 9.69047682186413, 9.67241257001501, 9.654376782196632, 9.636370758535156, 9.618396470444864, 9.600456381369225, 9.58255269763912]
# batch_population_list_7=[100, 1.3106572011182773, 2.08921291379175, 3.1741814423724986, 4.551011458571196, 6.114703245704105, 7.675275727822374, 9.011684061159546, 9.954701390872536, 10.45251236010468, 10.578690735543397, 10.480466112169363, 10.30429381359133, 10.143742374492653, 10.030033492628782, 9.954170381016706, 9.895960670113912, 9.842220997214769, 9.790752950648011, 9.745858433662601, 9.712345826042023, 9.691893303128024, 9.682408195471456, 9.679344157609837, 9.677632704637476, 9.673257859957278, 9.664037999528972, 9.649623368961471, 9.630976947699025, 9.6096760994538, 9.5873043209284, 9.565072358339519, 9.54368404664287, 9.523383601489385, 9.504095096216687, 9.485577451926819, 9.467548351464197, 9.449760567594232, 9.432034869177384, 9.414263062035403, 9.396395518545102, 9.378423874103394, 9.360364890982003, 9.342247798650286, 9.32410530971501, 9.30596771061234, 9.287859358649031, 9.269797079049818, 9.251790072234993, 9.2338409493921]
# batch_population_list_8=[100, 1.3131110395704046, 2.0275648194457014, 2.9980286921920953, 4.212720803604246, 5.592649764618365, 6.99484357269209, 8.249422751083557, 9.217652218755617, 9.839765659855063, 10.144813619166648, 10.219990075331737, 10.16304237422548, 10.04716118952498, 9.911989540018709, 9.774138489724464, 9.641927829304837, 9.523735877898261, 9.428507222356103, 9.362502231274359, 9.326595523977286, 9.316018516568604, 9.32222250704095, 9.335595753309283, 9.347857774460607, 9.353482371147614, 9.350040246036807, 9.337712579277317, 9.31837324117383, 9.294612889568702, 9.268957332522412, 9.243388295351567, 9.219158195866742, 9.1968236336651, 9.176402743424108, 9.157573926368825, 9.13985999302518, 9.122768984716533, 9.105883820350606, 9.0889056631901, 9.071661793043472, 9.054090094881136, 9.03621111319437, 9.0180963839216, 8.99983922821588, 8.981531761823117, 8.963249740118668, 8.945045150759038, 8.92694527051939, 8.908956251092928]
# batch_population_list_9=[100, 1.3155648780225322, 1.965916845526116, 2.8218698894576932, 3.874488944961862, 5.070996815334276, 6.315808663457096, 7.490737055805391, 8.488080648040919, 9.240440393727098, 9.732167554416982, 9.989576201274346, 10.060239613482954, 9.995197518854692, 9.840947135825251, 9.638883058345028, 9.426106357697083, 9.233930168745722, 9.084564275211607, 8.98849759922617, 8.944456120643615, 8.942078102082823, 8.966153382567349, 9.000935474184777, 9.033407135303129, 9.055011589310721, 9.061921253652992, 9.054255642854258, 9.034768189139738, 9.007459282262449, 8.976423512957732, 8.945075676997265, 8.915768472931827, 8.889732796024619, 8.86723647044985, 8.847856404163698, 8.830777873710138, 8.81506107375925, 8.799841434719916, 8.784452357454558, 8.768475246616058, 8.751731824407525, 8.73423827815602, 8.716140904305062, 8.69764987062817, 8.678982906812235, 8.660325422312518, 8.64180875078502, 8.623504586873855, 8.605431489609943]
# plt.plot(days, batch_population_list_1, color='red', marker='o', markersize=3, linestyle='-', label='better_prob=0.1') 
# plt.plot(days, batch_population_list_2, color='orange', marker='o', markersize=3, linestyle='-', label='better_prob=0.2') 
# plt.plot(days, batch_population_list_3, color='gold', marker='o', markersize=3, linestyle='-', label='better_prob=0.3') 
# plt.plot(days, batch_population_list_4, color='green', marker='o', markersize=3, linestyle='-', label='better_prob=0.4')  
# plt.plot(days, batch_population_list_5, color='lightblue', marker='o', markersize=3, linestyle='-', label='better_prob=0.5') 
# plt.plot(days, batch_population_list_6, color='royalblue', marker='o', markersize=3, linestyle='-', label='better_prob=0.6')  
# plt.plot(days, batch_population_list_7, color='blue', marker='o', markersize=3, linestyle='-', label='better_prob=0.7') 
# plt.plot(days, batch_population_list_8, color='darkblue', marker='o', markersize=3, linestyle='-', label='better_prob=0.8')  
# plt.plot(days, batch_population_list_9, color='purple', marker='o', markersize=3, linestyle='-', label='better_prob=0.9') 
# plt.xlabel('Days')
# plt.ylabel('New patients received') 
# plt.legend(loc='upper right')
# plt.title('100 patients received on day 1, then keep all hospital beds occupied')
# plt.show()

